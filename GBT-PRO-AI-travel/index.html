<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé™ GBT PRO AI Travel - 2L1P –ú–∞–≥–∏—è</title>
    <style>
        :root { --heartbeat-duration: 15s; --magic-sparkle: #ff0080; }
        
        @keyframes heartPulse {
            0% { background-position: 0% 50%; filter: hue-rotate(0deg); }
            50% { background-position: 100% 50%; filter: hue-rotate(180deg); }
            100% { background-position: 0% 50%; filter: hue-rotate(360deg); }
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: heartPulse var(--heartbeat-duration) ease infinite;
            min-height: 100vh; color: white; overflow-x: hidden;
        }
        
        .app { min-height: 100vh; position: relative; }
        
        .visual-monastery {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; overflow: hidden;
        }
        
        .magic-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        .emotional-glow {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            animation: glowMove 10s ease-in-out infinite;
        }
        
        @keyframes glowMove {
            0%, 100% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-10%, 10%) scale(1.1); }
        }
        
        .mood-calm {
            background: linear-gradient(135deg, #23a6d5 0%, #23d5ab 100%);
            animation: gentleBreath 8s ease-in-out infinite;
        }
        
        @keyframes gentleBreath {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        .personality-selector {
            max-width: 1200px; margin: 0 auto; padding: 2rem; text-align: center;
        }
        
        .selector-title {
            font-size: 3rem; margin-bottom: 1rem;
            background: linear-gradient(135deg, #ff6b35, #e73c7e, #23a6d5);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        
        .selector-subtitle { font-size: 1.5rem; margin-bottom: 3rem; color: rgba(255, 255, 255, 0.8); }
        
        .personality-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem; margin-bottom: 3rem;
        }
        
        .persona-card {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            border: 2px solid transparent; border-radius: 20px; padding: 2rem;
            cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden;
        }
        
        .persona-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px;
            background: var(--persona-color); transform: scaleX(0); transition: transform 0.3s ease;
        }
        
        .persona-card:hover::before { transform: scaleX(1); }
        .persona-card:hover { transform: translateY(-10px); background: rgba(255, 255, 255, 0.15); }
        .persona-card.selected { border-color: var(--persona-color); background: rgba(255, 255, 255, 0.2); transform: scale(1.05); }
        .persona-card.selected::before { transform: scaleX(1); }
        
        .persona-icon { font-size: 3rem; margin-bottom: 1rem; }
        .persona-name { font-size: 1.5rem; margin-bottom: 1rem; color: white; }
        .persona-description { color: rgba(255, 255, 255, 0.8); line-height: 1.6; }
        
        .confirm-button {
            background: linear-gradient(135deg, #ff6b35, #e73c7e); border: none;
            border-radius: 50px; padding: 1rem 3rem; font-size: 1.2rem; color: white;
            cursor: pointer; transition: all 0.3s ease; opacity: 1;
        }
        
        .confirm-button:disabled { opacity: 0.5; cursor: not-allowed; }
        .confirm-button:not(:disabled):hover { transform: scale(1.05); box-shadow: 0 10px 30px rgba(255, 107, 53, 0.4); }
        
        .hidden { display: none !important; }
        
        .trip-planner { max-width: 800px; margin: 0 auto; padding: 2rem; }
        .planner-header { text-align: center; margin-bottom: 2rem; }
        
        .planner-header h1 {
            font-size: 2.5rem; margin-bottom: 1rem;
            background: linear-gradient(135deg, #ff6b35, #e73c7e);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        
        .planner-controls {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 2rem; margin-bottom: 2rem;
        }
        
        .input-group { margin-bottom: 1.5rem; }
        .input-group label { display: block; margin-bottom: 0.5rem; font-weight: bold; }
        
        .input-group input, .input-group select {
            width: 100%; padding: 1rem; border: none; border-radius: 10px;
            background: rgba(255, 255, 255, 0.9); font-size: 1rem;
        }
        
        .plan-button {
            width: 100%; background: linear-gradient(135deg, #23a6d5, #23d5ab);
            border: none; border-radius: 15px; padding: 1.2rem; font-size: 1.3rem;
            color: white; cursor: pointer; transition: all 0.3s ease;
        }
        
        .plan-button:disabled { opacity: 0.7; }
        .plan-button:not(:disabled):hover { transform: scale(1.02); box-shadow: 0 10px 30px rgba(35, 166, 213, 0.4); }
        
        .trip-result {
            background: rgba(255, 255, 255, 0.95); border-radius: 20px; padding: 2rem;
            margin-top: 2rem; color: #2c3e50; animation: resultAppear 0.8s ease;
        }
        
        @keyframes resultAppear {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .day-plan {
            background: #f8f9fa; padding: 1rem; margin: 0.5rem 0; border-radius: 10px; border-left: 4px solid #23a6d5;
        }
        
        .magic-moment {
            background: #fff3cd; border: 2px solid #ffeaa7; border-radius: 15px; padding: 1.5rem; margin-top: 1.5rem;
        }
        
        .emotional-companion {
            position: fixed; bottom: 20px; right: 20px; width: 400px;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 1.5rem; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            z-index: 1000; max-height: 600px; display: flex; flex-direction: column;
        }
        
        .companion-header {
            display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;
        }
        
        .companion-header h3 { margin: 0; color: #2c3e50; }
        
        .mood-indicator {
            display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem;
        }
        
        .mood-badge {
            padding: 0.2rem 0.8rem; border-radius: 20px; color: white; font-size: 0.8rem; text-transform: capitalize;
        }
        
        .chat-messages {
            flex: 1; overflow-y: auto; margin-bottom: 1rem; max-height: 300px;
        }
        
        .message { margin-bottom: 1rem; animation: messageAppear 0.3s ease; }
        
        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.ai .message-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 0.8rem 1rem; border-radius: 18px 18px 18px 4px; max-width: 80%;
        }
        
        .message.user .message-content {
            background: #f1f3f4; color: #2c3e50; padding: 0.8rem 1rem;
            border-radius: 18px 18px 4px 18px; margin-left: auto; max-width: 80%;
        }
        
        .message-time {
            font-size: 0.7rem; color: #7f8c8d; margin-top: 0.2rem;
        }
        
        .suggestions { margin-bottom: 1rem; }
        .suggestions h4 { margin: 0 0 0.8rem 0; color: #2c3e50; font-size: 0.9rem; }
        
        .suggestion-buttons {
            display: flex; flex-wrap: wrap; gap: 0.5rem;
        }
        
        .suggestion-btn {
            background: transparent; border: 2px solid; border-radius: 15px;
            padding: 0.4rem 0.8rem; font-size: 0.8rem; cursor: pointer;
            transition: all 0.3s ease; text-transform: capitalize;
        }
        
        .suggestion-btn:hover {
            background: rgba(0, 0, 0, 0.05); transform: translateY(-2px);
        }
        
        .quick-responses {
            display: flex; gap: 0.5rem; justify-content: space-between;
        }
        
        .quick-responses button {
            flex: 1; padding: 0.6rem; border: none; border-radius: 10px;
            background: #ecf0f1; cursor: pointer; transition: all 0.3s ease; font-size: 0.8rem;
        }
        
        .quick-responses button:hover {
            background: #bdc3c7; transform: scale(1.05);
        }
        
        .spinner {
            display: inline-block; width: 20px; height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3); border-radius: 50%;
            border-top-color: white; animation: spin 1s ease-in-out infinite; margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="app" id="app">
        <div class="visual-monastery" id="visualMonastery">
            <canvas class="magic-canvas" id="magicCanvas"></canvas>
            <div class="emotional-glow"></div>
        </div>
        
        <div class="main-content">
            <div class="personality-selector" id="personalitySelector">
                <h1 class="selector-title">üé™ –î–æ–±—Ä–µ –¥–æ—à–ª–∏ –≤ GBT PRO AI Travel!</h1>
                <p class="selector-subtitle">–ò–∑–±–µ—Ä–∏ —Å–≤–æ—è—Ç–∞ –ø—ä—Ç–Ω–∏—á–µ—Å–∫–∞ –ª–∏—á–Ω–æ—Å—Ç:</p>
                
                <div class="personality-grid" id="personalityGrid"></div>

                <button class="confirm-button" id="confirmButton" disabled>
                    –ò–∑–±–µ—Ä–∏ –ª–∏—á–Ω–æ—Å—Ç
                </button>
            </div>
            
            <div class="trip-planner hidden" id="tripPlanner">
                <div class="planner-header">
                    <h1>üéØ Neural –ü–ª–∞–Ω–∏—Ä–æ–≤—á–∏–∫</h1>
                    <p id="welcomeMessage">–ó–¥—Ä–∞–≤–µ–π! –©–µ —Å—ä–∑–¥–∞–º –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ—Ç–æ –ø—ä—Ç—É–≤–∞–Ω–µ –∑–∞ —Ç–µ–±!</p>
                </div>

                <div class="planner-controls">
                    <div class="input-group">
                        <label>üìç –î–µ—Å—Ç–∏–Ω–∞—Ü–∏—è</label>
                        <input type="text" id="destinationInput" placeholder="–ö—ä–¥–µ –∏—Å–∫–∞—à –¥–∞ –ø—ä—Ç—É–≤–∞—à?">
                    </div>

                    <div class="input-group">
                        <label>üìÖ –ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç: <span id="durationValue">3</span> –¥–Ω–∏</label>
                        <input type="range" id="durationSlider" min="1" max="14" value="3">
                    </div>

                    <div class="input-group">
                        <label>üí∞ –ë—é–¥–∂–µ—Ç</label>
                        <select id="budgetSelect">
                            <option value="low">–ò–∫–æ–Ω–æ–º–∏—á–µ–Ω</option>
                            <option value="medium" selected>–°—Ä–µ–¥–µ–Ω</option>
                            <option value="high">–í–∏—Å–æ–∫</option>
                            <option value="luxury">–õ—É–∫—Å</option>
                        </select>
                    </div>
                </div>

                <button class="plan-button" id="planButton">
                    üé™ –°—ä–∑–¥–∞–π –º–∞–≥–∏—á–µ—Å–∫–æ –ø—ä—Ç—É–≤–∞–Ω–µ!
                </button>

                <div class="trip-result hidden" id="tripResult"></div>
            </div>
        </div>
        
        <div class="emotional-companion hidden" id="emotionalCompanion">
            <div class="companion-header">
                <h3>üíû –ï–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω –°–ø—ä—Ç–Ω–∏–∫</h3>
                <div class="mood-indicator">
                    –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: <span class="mood-badge" id="moodBadge">–Ω–µ—É—Ç—Ä–∞–ª–Ω–æ</span>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages"></div>

            <div class="suggestions">
                <h4>üéØ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∑–∞ —Ç–µ–±:</h4>
                <div class="suggestion-buttons" id="suggestionButtons"></div>
            </div>

            <div class="quick-responses">
                <button onclick="handleQuickResponse('–•–∞—Ä–µ—Å–≤–∞ –º–∏!')">üëç –•–∞—Ä–µ—Å–≤–∞ –º–∏</button>
                <button onclick="handleQuickResponse('–ù–µ –º–∏ —Ö–∞—Ä–µ—Å–≤–∞')">üëé –ù–µ –º–∏ —Ö–∞—Ä–µ—Å–≤–∞</button>
                <button onclick="handleQuickResponse('–ò–∑–Ω–µ–Ω–∞–¥–∞–π –º–µ!')">üéÅ –ò–∑–Ω–µ–Ω–∞–¥–∞–π –º–µ</button>
            </div>
        </div>
    </div>

    <script>
        const personalities = [
            { id: 'adventurer', name: 'üßó –ê–≤–∞–Ω—Ç—é—Ä–∏—Å—Ç', description: '–¢—ä—Ä—Å—è –µ–∫—Å—Ç—Ä–µ–º–Ω–∏ –ø—Ä–µ–∂–∏–≤—è–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –≤ –ø—Ä–∏—Ä–æ–¥–∞—Ç–∞!', color: '#ff6b35' },
            { id: 'luxury', name: 'üíé –õ—É–∫–æ–∑–µ–Ω', description: '–û–±–∏—á–∞–º –∫–æ–º—Ñ–æ—Ä—Ç–∞, –∏–∑–∏—Å–∫–∞–Ω–∞—Ç–∞ –∫—É—Ö–Ω—è –∏ VIP –æ—Ç–Ω–æ—à–µ–Ω–∏—è.', color: '#d4af37' },
            { id: 'cultural', name: 'üé® –ö—É–ª—Ç—É—Ä–µ–Ω –∏–∑—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª', description: '–ò—Å—Ç–æ—Ä–∏—è—Ç–∞, –∏–∑–∫—É—Å—Ç–≤–æ—Ç–æ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–∏—Ç–µ –º–µ –≤—ä–ª–Ω—É–≤–∞—Ç.', color: '#2a9d8f' },
            { id: 'spiritual', name: 'üßò –î—É—Ö–æ–≤–µ–Ω —Ç—ä—Ä—Å–∞—á', description: '–¢—ä—Ä—Å—è –≤—ä—Ç—à–µ–Ω –ø–æ–∫–æ–π, –º–µ–¥–∏—Ç–∞—Ü–∏—è –∏ –¥—É—Ö–æ–≤–Ω–æ –ø—Ä–æ–±—É–∂–¥–∞–Ω–µ.', color: '#9b59b6' },
            { id: 'family', name: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –°–µ–º–µ–µ–Ω', description: '–í–∞–∂–Ω–∏ —Å–∞ –º–∏ —É–¥–æ–±—Å—Ç–≤–æ—Ç–æ –∏ –∑–∞–±–∞–≤–ª–µ–Ω–∏—è—Ç–∞ –∑–∞ —Ü—è–ª–æ—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ.', color: '#3498db' },
            { id: 'digital_nomad', name: 'üíª –î–∏–≥–∏—Ç–∞–ª–µ–Ω –Ω–æ–º–∞–¥', description: '–¢—ä—Ä—Å—è –º–µ—Å—Ç–∞ —Å –¥–æ–±—Ä–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤—Ä—ä–∑–∫–∞ –∏ —Ä–∞–±–æ—Ç–Ω–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞.', color: '#e74c3c' }
        ];

        const tripPlans = {
            adventurer: {
                name: "üèîÔ∏è –ï–∫—Å—Ç—Ä–µ–º–Ω–æ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –≤ –ü–∏—Ä–∏–Ω",
                description: "–ü–ª–∞–Ω–∏–Ω—Å–∫–∏ –ø—Ä–µ—Ö–æ–¥–∏, —Å–ø–µ–ª–µ–æ–ª–æ–≥–∏—è –∏ –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω–æ–≤–∏ –ø—Ä–µ–∂–∏–≤—è–≤–∞–Ω–∏—è",
                itinerary: [
                    "–î–µ–Ω 1: –ü—Ä–∏—Å—Ç–∏–≥–∞–Ω–µ –≤ –ë–∞–Ω—Å–∫–æ - –ó–∞–ø–æ–∑–Ω–∞–≤–∞–Ω–µ —Å –ø–ª–∞–Ω–∏–Ω—Å–∫–∏ –≤–æ–¥–∞—á",
                    "–î–µ–Ω 2: –ü—Ä–µ—Ö–æ–¥ –∫—ä–º –í–∏—Ö—Ä–µ–Ω - –ù–æ—â—É–≤–∫–∞ –≤ —Ö–∏–∂–∞", 
                    "–î–µ–Ω 3: –°–ø—É—Å–∫–∞–Ω–µ –∏ –ø–æ—Å–µ—â–µ–Ω–∏–µ –≤ –º–µ—Å—Ç–Ω–∞ –º–µ—Ö–∞–Ω–∞"
                ],
                magic: "üé™ –°—Ä–µ—â–∞ —Å –º–µ—Å—Ç–µ–Ω –ø–ª–∞–Ω–∏–Ω—Å–∫–∏ –≤–æ–¥–∞—á, –∫–æ–π—Ç–æ —â–µ —Ä–∞–∑–∫–∞–∂–µ –ª–µ–≥–µ–Ω–¥–∏ –∑–∞ –ø–ª–∞–Ω–∏–Ω–∞—Ç–∞"
            },
            luxury: {
                name: "üíé –õ—É–∫–æ–∑–µ–Ω —É–∏–∫–µ–Ω–¥ –≤ –ë–∞–Ω—Å–∫–æ", 
                description: "5-–∑–≤–µ–∑–¥–µ–Ω —Ö–æ—Ç–µ–ª, –°–ü–ê –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –∏ –≥—É—Ä–º–∞–Ω —Ä–µ—Å—Ç–æ—Ä–∞–Ω—Ç–∏",
                itinerary: [
                    "–î–µ–Ω 1: –ü—Ä–∏—Å—Ç–∏–≥–∞–Ω–µ –∏ –Ω–∞—Å—Ç–∞–Ω—è–≤–∞–Ω–µ –≤ –ª—É–∫—Å–æ–∑–µ–Ω —Ö–æ—Ç–µ–ª",
                    "–î–µ–Ω 2: –°–ü–ê –¥–µ–Ω –∏ –≥—É—Ä–º–∞–Ω –≤–µ—á–µ—Ä—è",
                    "–î–µ–Ω 3: –ß–∞—Å—Ç–Ω–∞ –µ–∫—Å–∫—É—Ä–∑–∏—è –¥–æ –ú–µ–ª–Ω–∏–∫ —Å –¥–µ–≥—É—Å—Ç–∞—Ü–∏—è –Ω–∞ –≤–∏–Ω–æ"
                ],
                magic: "üç∑ –ß–∞—Å—Ç–Ω–∞ –¥–µ–≥—É—Å—Ç–∞—Ü–∏—è –Ω–∞ –≤–∏–Ω–æ –≤ –µ–¥–∏–Ω –æ—Ç –Ω–∞–π-—Å—Ç–∞—Ä–∏—Ç–µ –≤–∏–Ω–∞—Ä—Å–∫–∏ –∏–∑–±–∏ –≤ –ë—ä–ª–≥–∞—Ä–∏—è"
            },
            cultural: {
                name: "üèõÔ∏è –ö—É–ª—Ç—É—Ä–Ω–æ –ø—ä—Ç–µ—à–µ—Å—Ç–≤–∏–µ –∏–∑ –ë—ä–ª–≥–∞—Ä–∏—è",
                description: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ –∑–∞–±–µ–ª–µ–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç–∏ –∏ —Ç—Ä–∞–¥–∏—Ü–∏–∏",
                itinerary: [
                    "–î–µ–Ω 1: –ü–ª–æ–≤–¥–∏–≤ - –°—Ç–∞—Ä–∏—è—Ç –≥—Ä–∞–¥ –∏ –†–∏–º—Å–∫–∏ —Ç–µ–∞—Ç—ä—Ä",
                    "–î–µ–Ω 2: –í–µ–ª–∏–∫–æ –¢—ä—Ä–Ω–æ–≤–æ - –¶–∞—Ä–µ–≤–µ—Ü –∏ –°–≤–µ—Ç–∞ –≥–æ—Ä–∞",
                    "–î–µ–Ω 3: –ù–µ—Å–µ–±—ä—Ä - –°—Ç–∞—Ä–∏—è—Ç –≥—Ä–∞–¥ –∏ —á–µ—Ä–Ω–æ–º–æ—Ä—Å–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞"
                ],
                magic: "üìú –°—Ä–µ—â–∞ —Å –º–µ—Å—Ç–µ–Ω –∏—Å—Ç–æ—Ä–∏–∫, –∫–æ–π—Ç–æ —â–µ —Ä–∞–∑–∫–∞–∂–µ —Ç–∞–π–Ω–∏ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞ –º–µ—Å—Ç–∞—Ç–∞"
            }
        };

        const emotionalSupport = {
            stressed: {
                message: "üòå –í–∏–∂–¥–∞–º, —á–µ —Å–∏ –º–∞–ª–∫–æ —Å—Ç—Ä–µ—Å–∏—Ä–∞–Ω. –ò—Å–∫–∞—à –ª–∏ –¥–∞ —Ç–∏ –ø—Ä–µ–¥–ª–æ–∂–∞ —Å–ø–æ–∫–æ–π–Ω–æ –ø—ä—Ç—É–≤–∞–Ω–µ –≤ –ø—Ä–∏—Ä–æ–¥–∞—Ç–∞?",
                suggestions: ["—Ä–µ—Ç—Ä–∏—Ç –≤ –ø–ª–∞–Ω–∏–Ω–∞—Ç–∞", "–°–ü–ê —É–∏–∫–µ–Ω–¥", "–º–µ–¥–∏—Ç–∞—Ç–∏–≤–Ω–æ –ø—ä—Ç—É–≤–∞–Ω–µ"],
                color: "#4ecdc4"
            },
            excited: {
                message: "üéâ –£–∞—É! –ï–Ω–µ—Ä–≥–∏—è—Ç–∞ —Ç–∏ –µ –∑–∞—Ä–∞–∑—è–≤–∞—â–∞! –ò—Å–∫–∞—à –ª–∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –ø—ä–ª–Ω–æ —Å –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω?",
                suggestions: ["–µ–∫—Å—Ç—Ä–µ–º–Ω–∏ —Å–ø–æ—Ä—Ç–æ–≤–µ", "—É—Ä–±–∞–Ω–æ –∏–∑—Å–ª–µ–¥–≤–∞–Ω–µ", "–Ω–æ—â–Ω–∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è"],
                color: "#ff6b35"
            },
            curious: {
                message: "üîç –ß—É–≤—Å—Ç–≤–∞–º —Ç–≤–æ—è—Ç–∞ –ª—é–±–æ–ø–∏—Ç–Ω–æ—Å—Ç! –î–∞ –æ—Ç–∫—Ä–∏–µ–º –∑–∞–µ–¥–Ω–æ –Ω–µ—â–æ –∏–∑–Ω–µ–Ω–∞–¥–≤–∞—â–æ?",
                suggestions: ["—Å–∫—Ä–∏—Ç–∏ –±–∏–∂—É—Ç–∞", "–º–µ—Å—Ç–Ω–∏ —Ç–∞–π–Ω–∏", "–Ω–µ–ø–æ–∑–Ω–∞—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∏"],
                color: "#23a6d5"
            },
            tired: {
                message: "üò¥ –ò–∑–≥–ª–µ–∂–¥–∞—à —É–º–æ—Ä–µ–Ω. –ò—Å–∫–∞—à –ª–∏ —Ä–µ–ª–∞–∫—Å–∏—Ä–∞—â–æ –ø—ä—Ç—É–≤–∞–Ω–µ —Å –º–∏–Ω–∏–º–∞–ª–Ω–æ –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ?",
                suggestions: ["–∞–ª –∏–Ω–∫–ª—É–∑–∏–≤", "—Ä–µ–ª–∞–∫—Å —Å–ø–∞", "—Å–∞–º–æ –ø—Ä–∏—Ä–æ–¥–∞"],
                color: "#9b59b6"
            }
        };

        let currentUser = null;
        let selectedPersona = null;
        let currentMood = 'neutral';

        function initializeSystem() {
            renderPersonalitySelector();
            setupEventListeners();
            startVisualEffects();
            console.log("üé™ GBT PRO AI Travel –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!");
        }

        function renderPersonalitySelector() {
            const grid = document.getElementById('personalityGrid');
            grid.innerHTML = '';
            
            personalities.forEach(persona => {
                const card = document.createElement('div');
                card.className = 'persona-card';
                card.style.setProperty('--persona-color', persona.color);
                card.innerHTML = `
                    <div class="persona-icon">${persona.name.split(' ')[0]}</div>
                    <h3 class="persona-name">${persona.name}</h3>
                    <p class="persona-description">${persona.description}</p>
                `;
                
                card.addEventListener('click', () => selectPersona(persona.id));
                grid.appendChild(card);
            });
        }

        function selectPersona(personaId) {
            selectedPersona = personaId;
            
            document.querySelectorAll('.persona-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            document.querySelectorAll('.persona-card').forEach((card, index) => {
                if (personalities[index].id === personaId) {
                    card.classList.add('selected');
                }
            });
            
            document.getElementById('confirmButton').disabled = false;
            document.getElementById('confirmButton').textContent = 'üéØ –ó–∞–ø–æ—á–Ω–∏ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ—Ç–æ!';
        }

        function confirmPersonaSelection() {
            if (!selectedPersona) return;
            
            currentUser = {
                id: Date.now().toString(),
                persona: selectedPersona,
                joinDate: new Date().toISOString()
            };
            
            document.getElementById('visualMonastery').className = 'visual-monastery mood-joy';
            document.getElementById('personalitySelector').classList.add('hidden');
            document.getElementById('tripPlanner').classList.remove('hidden');
            document.getElementById('emotionalCompanion').classList.remove('hidden');
            
            const personaName = personalities.find(p => p.id === selectedPersona).name;
            document.getElementById('welcomeMessage').textContent = 
                `–ó–¥—Ä–∞–≤–µ–π, ${personaName}! –©–µ —Å—ä–∑–¥–∞–º –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–æ—Ç–æ –ø—ä—Ç—É–≤–∞–Ω–µ –∑–∞ —Ç–µ–±!`;
            
            startEmotionalCompanion();
            
            console.log(`üé≠ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∞ –ª–∏—á–Ω–æ—Å—Ç –∏–∑–±—Ä–∞–Ω–∞: ${selectedPersona}`);
        }

        function generateTripPlan() {
            const planButton = document.getElementById('planButton');
            const destination = document.getElementById('destinationInput').value || '–ë—ä–ª–≥–∞—Ä–∏—è';
            
            planButton.innerHTML = '<div class="spinner"></div> üß† AI –ø–ª–∞–Ω–∏—Ä–∞...';
            planButton.disabled = true;
            
            setTimeout(() => {
                const plan = tripPlans[currentUser.persona] || tripPlans.adventurer;
                
                const resultHTML = `
                    <h2>${plan.name}</h2>
                    <p>${plan.description}</p>
                    
                    <div class="itinerary">
                        <h3>üóìÔ∏è –ü—Ä–æ–≥—Ä–∞–º–∞:</h3>
                        ${plan.itinerary.map(day => `<div class="day-plan">${day}</div>`).join('')}
                    </div>
                    
                    <div class="magic-moment">
                        <h3>‚ú® –ú–∞–≥–∏—á–µ—Å–∫–∏ –º–æ–º–µ–Ω—Ç:</h3>
                        <p>${plan.magic}</p>
                    </div>
                    
                    <div style="text-align: center; margin-top: 2rem;">
                        <button onclick="showCreativeGenerator()" style="background: linear-gradient(135deg, #ff6b35, #e73c7e); border: none; border-radius: 10px; padding: 1rem 2rem; color: white; cursor: pointer; font-size: 1.1rem;">
                            üé™ –°—ä–∑–¥–∞–π –æ—â–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è!
                        </button>
                    </div>
                `;
                
                document.getElementById('tripResult').innerHTML = resultHTML;
                document.getElementById('tripResult').classList.remove('hidden');
                
                planButton.innerHTML = 'üé™ –°—ä–∑–¥–∞–π –º–∞–≥–∏—á–µ—Å–∫–æ –ø—ä—Ç—É–≤–∞–Ω–µ!';
                planButton.disabled = false;
                
                addChatMessage('ai', 'üéâ –ß—É–¥–µ—Å–Ω–æ! –°—ä–∑–¥–∞–¥–æ—Ö –ø–µ—Ä—Ñ–µ–∫—Ç–µ–Ω –ø–ª–∞–Ω –∑–∞ —Ç–µ–±! –ö–∞–∫–≤–æ –º–∏—Å–ª–∏—à?');
                
            }, 3000);
        }

        function startEmotionalCompanion() {
            addChatMessage('ai', 'üíñ –ó–¥—Ä–∞–≤–µ–π! –ê–∑ —Å—ä–º —Ç–≤–æ—è—Ç –µ–º–æ—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å–ø—ä—Ç–Ω–∏–∫. –ì–æ—Ç–æ–≤ —Å—ä–º –¥–∞ —Ç–∏ –ø–æ–º–æ–≥–Ω–∞ –¥–∞ —Å—ä–∑–¥–∞–¥–µ—à –Ω–µ–∑–∞–±—Ä–∞–≤–∏–º–æ –ø—ä—Ç—É–≤–∞–Ω–µ!');
            
            setTimeout(() => {
                analyzeUserMood();
            }, 2000);
        }

        function analyzeUserMood() {
            const moods = ['stressed', 'excited', 'curious', 'tired'];
            const randomMood = moods[Math.floor(Math.random() * moods.length)];
            currentMood = randomMood;
            
            const support = emotionalSupport[randomMood];
            document.getElementById('moodBadge').textContent = randomMood;
            document.getElementById('moodBadge').style.backgroundColor = support.color;
            
            const suggestionButtons = document.getElementById('suggestionButtons');
            suggestionButtons.innerHTML = '';
            
            support.suggestions.forEach(suggestion => {
                const button = document.createElement('button');
                button.className = 'suggestion-btn';
                button.style.borderColor = support.color;
                button.textContent = suggestion;
                button.onclick = () => handleSuggestion(suggestion);
                suggestionButtons.appendChild(button);
            });
            
            addChatMessage('ai', support.message);
        }

        function addChatMessage(type, text) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            messageDiv.innerHTML = `
                <div class="message-content">${text}</div>
                <div class="message-time">${timestamp}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleSuggestion(suggestion) {
            addChatMessage('user', `–ò—Å–∫–∞–º –¥–∞ —Ä–∞–∑–≥–ª–µ–¥–∞–º: ${suggestion}`);
            
            setTimeout(() => {
                const responses = [
                    "üé™ –°—Ç—Ä–∞—Ö–æ—Ç–µ–Ω –∏–∑–±–æ—Ä! –í–µ—á–µ —Ç—ä—Ä—Å—è –ø–µ—Ä—Ñ–µ–∫—Ç–Ω–∏ –º–µ—Å—Ç–∞ –∑–∞ —Ç–æ–≤–∞.",
                    "üí´ –ß—É–¥–µ—Å–Ω–æ! –¢–æ–≤–∞ –µ –µ–¥–Ω–æ –æ—Ç –Ω–∞–π-–≤—ä–ª–Ω—É–≤–∞—â–∏—Ç–µ –Ω–µ—â–∞, –∫–æ–∏—Ç–æ –º–æ–∂–µ–º –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏–º.",
                    "üîç –û—Ç–ª–∏—á–Ω–æ! –î–∞ –∑–∞–ø–æ—á–Ω–µ–º –¥–∞ –ø–ª–∞–Ω–∏—Ä–∞–º–µ —Ç–æ–≤–∞ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ."
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addChatMessage('ai', randomResponse);
            }, 1000);
        }

        function handleQuickResponse(response) {
            addChatMessage('user', response);
            
            setTimeout(() => {
                let aiResponse;
                if (response.includes('–•–∞—Ä–µ—Å–≤–∞')) {
                    aiResponse = "üéâ –°—É–ø–µ—Ä! –ú–Ω–æ–≥–æ —Å–µ —Ä–∞–¥–≤–∞–º, —á–µ —Ç–∏ —Ö–∞—Ä–µ—Å–≤–∞! –î–∞ –ø—Ä–æ–¥—ä–ª–∂–∏–º –ª–∏ —Å –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ—Ç–æ?";
                } else if (response.includes('–ù–µ –º–∏ —Ö–∞—Ä–µ—Å–≤–∞')) {
                    aiResponse = "üòä –†–∞–∑–±–∏—Ä–∞–º, –Ω–µ –µ –∑–∞ —Ç–µ–±. –ö–∞–∫–≤–æ –¥—Ä—É–≥–æ –±–∏ —Ç–µ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å—É–≤–∞–ª–æ?";
                } else {
                    aiResponse = "üéÅ –û–æ–æ, –æ–±–∏—á–∞–º –∏–∑–Ω–µ–Ω–∞–¥–∏! –©–µ —Å—ä–∑–¥–∞–º –Ω–µ—â–æ –Ω–∞–∏—Å—Ç–∏–Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ –∑–∞ —Ç–µ–±!";
                }
                addChatMessage('ai', aiResponse);
            }, 1000);
        }

        function startVisualEffects() {
            const canvas = document.getElementById('magicCanvas');
            const ctx = canvas.getContext('2d');
            
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            const particles = [];
            const particleCount = 50;
            
            class Particle {
                constructor() {
                    this.reset();
                }
                
                reset() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 3 + 1;
                    this.speedX = Math.random() * 2 - 1;
                    this.speedY = Math.random() * 2 - 1;
                    this.color = this.getRandomColor();
                    this.alpha = Math.random() * 0.5 + 0.2;
                }
                
                getRandomColor() {
                    const colors = ['#23a6d5', '#23d5ab', '#ff6b35', '#e73c7e', '#ff0080'];
                    return colors[Math.floor(Math.random() * colors.length)];
                }
                
                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;
                    
                    if (this.x > canvas.width || this.x < 0) this.speedX *= -1;
                    if (this.y > canvas.height || this.y < 0) this.speedY *= -1;
                    
                    this.alpha -= 0.005;
                    if (this.alpha <= 0) {
                        this.reset();
                    }
                }
                
                draw() {
                    ctx.save();
                    ctx.globalAlpha = this.alpha;
                    ctx.fillStyle = this.color;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                    ctx.restore();
                }
            }
            
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
            
            function animate() {
                ctx.fillStyle = 'rgba(10, 10, 20, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                particles.forEach(particle => {
                    particle.update();
                    particle.draw();
                });
                
                requestAnimationFrame(animate);
            }
            
            animate();
        }

        function setupEventListeners() {
            document.getElementById('confirmButton').addEventListener('click', confirmPersonaSelection);
            document.getElementById('planButton').addEventListener('click', generateTripPlan);
            
            document.getElementById('durationSlider').addEventListener('input', function() {
                document.getElementById('durationValue').textContent = this.value;
            });
        }

        document.addEventListener('DOMContentLoaded', initializeSystem);

        function showCreativeGenerator() {
            alert('üé™ Creative Generator —â–µ –±—ä–¥–µ –¥–æ–±–∞–≤–µ–Ω –≤ —Å–ª–µ–¥–≤–∞—â–∞—Ç–∞ –≤–µ—Ä—Å–∏—è!');
        }

        window.handleQuickResponse = handleQuickResponse;
        window.showCreativeGenerator = showCreativeGenerator;

        console.log("üöÄ GBT PRO AI Travel —Å–∏—Å—Ç–µ–º–∞—Ç–∞ –µ –∑–∞—Ä–µ–¥–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞!");
    </script>
</body>
</html>